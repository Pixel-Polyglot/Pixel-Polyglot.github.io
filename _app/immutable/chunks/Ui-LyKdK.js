import{n as F,p as D,q as O,i as B,r as U,e as P,t as b,v as $,H as j,w as z,x as w,y,z as N,A as V,B as g,C as G,D as J,E as K,F as Q,G as W,I as Z,J as X,K as R,L as x,k as ee,M as m,N as re,O as ae,P as te,Q as se,R as ne,T as L,V as k,U as ie}from"./BX3-LoMk.js";import{b as oe}from"./BVuq9G2T.js";const fe=["touchstart","touchmove"];function le(e){return fe.includes(e)}const C=new Set,A=new Set;function _e(e){for(var r=0;r<e.length;r++)C.add(e[r]);for(var s of A)s(e)}function E(e){var I;var r=this,s=r.ownerDocument,l=e.type,i=((I=e.composedPath)==null?void 0:I.call(e))||[],a=i[0]||e.target,o=0,d=e.__root;if(d){var u=i.indexOf(d);if(u!==-1&&(r===document||r===window)){e.__root=r;return}var _=i.indexOf(r);if(_===-1)return;u<=_&&(o=u)}if(a=i[o]||e.target,a!==r){F(e,"currentTarget",{configurable:!0,get(){return a||s}});var v=U,f=P;D(null),O(null);try{for(var t,n=[];a!==null;){var c=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+l];if(h!==void 0&&(!a.disabled||e.target===a))if(B(h)){var[Y,...q]=h;Y.apply(a,[e,...q])}else h.call(a,e)}catch(T){t?n.push(T):t=T}if(e.cancelBubble||c===r||c===null)break;a=c}if(t){for(let T of n)queueMicrotask(()=>{throw T});throw t}}finally{e.__root=r,delete e.currentTarget,D(v),O(f)}}}let H=!0;function he(e,r){var s=r==null?"":typeof r=="object"?r+"":r;s!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=s,e.nodeValue=s+"")}function ue(e,r){return M(e,r)}function ve(e,r){b(),r.intro=r.intro??!1;const s=r.target,l=m,i=g;try{for(var a=$(s);a&&(a.nodeType!==8||a.data!==j);)a=z(a);if(!a)throw w;y(!0),N(a),V();const o=M(e,{...r,anchor:a});if(g===null||g.nodeType!==8||g.data!==G)throw J(),w;return y(!1),o}catch(o){if(o===w)return r.recover===!1&&K(),b(),Q(s),y(!1),ue(e,r);throw o}finally{y(l),N(i)}}const p=new Map;function M(e,{target:r,anchor:s,props:l={},events:i,context:a,intro:o=!0}){b();var d=new Set,u=f=>{for(var t=0;t<f.length;t++){var n=f[t];if(!d.has(n)){d.add(n);var c=le(n);r.addEventListener(n,E,{passive:c});var h=p.get(n);h===void 0?(document.addEventListener(n,E,{passive:c}),p.set(n,1)):p.set(n,h+1)}}};u(W(C)),A.add(u);var _=void 0,v=Z(()=>{var f=s??r.appendChild(X());return R(()=>{if(a){x({});var t=ee;t.c=a}i&&(l.$$events=i),m&&oe(f,null),H=o,_=e(f,l)||{},H=!0,m&&(P.nodes_end=g),a&&re()}),()=>{var c;for(var t of d){r.removeEventListener(t,E);var n=p.get(t);--n===0?(document.removeEventListener(t,E),p.delete(t)):p.set(t,n)}A.delete(u),f!==s&&((c=f.parentNode)==null||c.removeChild(f))}});return S.set(_,v),_}let S=new WeakMap;function pe(e,r){const s=S.get(e);return s?(S.delete(e),s(r)):Promise.resolve()}function ye(e,r,s=!1){m&&V();var l=e,i=null,a=null,o=ie,d=s?te:0,u=!1;const _=(f,t=!0)=>{u=!0,v(t,f)},v=(f,t)=>{if(o===(o=f))return;let n=!1;if(m){const c=l.data===se;!!o===c&&(l=ne(),N(l),y(!1),n=!0)}o?(i?L(i):t&&(i=R(()=>t(l))),a&&k(a,()=>{a=null})):(a?L(a):t&&(a=R(()=>t(l))),i&&k(i,()=>{i=null})),n&&y(!0)};ae(()=>{u=!1,r(_),u||v(null,null)},d),m&&(l=g)}export{he as a,_e as d,ve as h,ye as i,ue as m,H as s,pe as u};
