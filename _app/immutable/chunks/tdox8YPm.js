import{p as k,q as A,r as P,e as I,P as x,Z as z,_ as B,$ as M,m as U,a0 as g,a1 as j,a2 as G,a3 as T,a4 as K,a5 as W}from"./BX3-LoMk.js";import{s as Z}from"./Ui-LyKdK.js";function D(r){var a=P,t=I;k(null),A(null);try{return r()}finally{k(a),A(t)}}const H=()=>performance.now(),l={tick:r=>requestAnimationFrame(r),now:()=>H(),tasks:new Set};function $(){const r=l.now();l.tasks.forEach(a=>{a.c(r)||(l.tasks.delete(a),a.f())}),l.tasks.size!==0&&l.tick($)}function J(r){let a;return l.tasks.size===0&&l.tick($),{promise:new Promise(t=>{l.tasks.add(a={c:r,f:t})}),abort(){l.tasks.delete(a)}}}function N(r,a){D(()=>{r.dispatchEvent(new CustomEvent(a))})}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function L(r){const a={},t=r.split(";");for(const i of t){const[n,u]=i.split(":");if(!n||u===void 0)break;const d=Q(n.trim());a[d]=u.trim()}return a}const V=r=>r;function ra(r,a,t,i){var n=(r&K)!==0,u=(r&W)!==0,d=n&&u,y=(r&g)!==0,F=d?"both":n?"in":"out",h,o=a.inert,b=a.style.overflow,s,e;function w(){var f=P,m=I;k(null),A(null);try{return h??(h=t()(a,(i==null?void 0:i())??{},{direction:F}))}finally{k(f),A(m)}}var v={is_global:y,in(){var f;if(a.inert=o,!n){e==null||e.abort(),(f=e==null?void 0:e.reset)==null||f.call(e);return}u||s==null||s.abort(),N(a,"introstart"),s=O(a,w(),e,1,()=>{N(a,"introend"),s==null||s.abort(),s=h=void 0,a.style.overflow=b})},out(f){if(!u){f==null||f(),h=void 0;return}a.inert=!0,N(a,"outrostart"),e=O(a,w(),s,0,()=>{N(a,"outroend"),f==null||f()})},stop:()=>{s==null||s.abort(),e==null||e.abort()}},_=I;if((_.transitions??(_.transitions=[])).push(v),n&&Z){var p=y;if(!p){for(var c=_.parent;c&&(c.f&x)!==0;)for(;(c=c.parent)&&(c.f&z)===0;);p=!c||(c.f&B)!==0}p&&M(()=>{U(()=>v.in())})}}function O(r,a,t,i,n){var u=i===1;if(j(a)){var d,y=!1;return G(()=>{if(!y){var _=a({direction:u?"in":"out"});d=O(r,_,t,i,n)}}),{abort:()=>{y=!0,d==null||d.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return n(),{abort:T,deactivate:T,reset:T,t:()=>i};const{delay:F=0,css:h,tick:o,easing:b=V}=a;var s=[];if(u&&t===void 0&&(o&&o(0,1),h)){var e=L(h(0,1));s.push(e,e)}var w=()=>1-i,v=r.animate(s,{duration:F});return v.onfinish=()=>{var _=(t==null?void 0:t.t())??1-i;t==null||t.abort();var p=i-_,c=a.duration*Math.abs(p),f=[];if(c>0){var m=!1;if(h)for(var S=Math.ceil(c/16.666666666666668),C=0;C<=S;C+=1){var R=_+p*b(C/S),q=L(h(R,1-R));f.push(q),m||(m=q.overflow==="hidden")}m&&(r.style.overflow="hidden"),w=()=>{var E=v.currentTime;return _+p*b(E/c)},o&&J(()=>{if(v.playState!=="running")return!1;var E=w();return o(E,1-E),!0})}v=r.animate(f,{duration:c,fill:"forwards"}),v.onfinish=()=>{w=()=>i,o==null||o(i,1-i),n()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=T)},deactivate:()=>{n=T},reset:()=>{i===0&&(o==null||o(1,0))},t:()=>w()}}const X=r=>r;function ta(r,{delay:a=0,duration:t=400,easing:i=X}={}){const n=+getComputedStyle(r).opacity;return{delay:a,duration:t,easing:i,css:u=>`opacity: ${u*n}`}}export{ta as f,ra as t};
